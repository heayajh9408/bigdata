﻿
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
    var students = [{nime:'홍',kor:99, mat:90,eng:87, s:99 }];
    students.push({ name:'김',kor:88, mat:90,eng:86, sci:69 })
    students.push({ name:'박',kor:91, mat:90,eng:88, sci:49 })
    students.push({ name:'이',kor:25, mat:90,eng:88, sci:89 })
    students.push({ name:'윤',kor:75, mat:90,eng:88, sci:79 })
    students.push({ name: '정', kor: 88, mat: 90, eng: 88, sci: 60 })
    for (var idx in students) {
      students[idx].getSum = function () {
        return this.kor + this.mat + this.eng + this.sci;
      };
      students[idx].getAvg = function () {
        return this.getSum() / 4; // 소수점 유지
      };
      students[idx].toString = function () {
        var output = '';
        for (var key in this) {
          if (key != 'toString' && key != 'getSum' && key != 'getAvg') {
            output += key + ':' + this[key] + '\n';
          } else if (key == 'getSum' || key == 'getAvg') {
            output += key.substring(3) + ":" + this[key]() + '\n';
          }
        }
        return output;
      };
    }
    // 1. 일반 for문
    var output = '';
    for (var idx = 0; idx < students.length; idx++) {
      output += idx + '번째\n';
      output += students[idx];
    }
    alert(output);
    //document.write(output.replace('\n','<br>'));
    document.write(replaceAll(output, '\n', '<br>'));
    // 2. for-in문
    document.write('<h2>2. for-in문 이용</h2>');
    for (var idx in students) {
      document.write(students[idx] + '<br>');
    }
    // 3. forEach()
    document.write('<h2>3. forEach() 이용</h2>');
    students.forEach(function (data, idx) {
      document.write(idx + "번째 : ");
      document.write(data + '<br>');
    });

    // replaceAll : output에서 oldStr을 newStr로 모두 교체
    function replaceAll(output, oldStr, newStr) {
      // join , split
      return output.split(oldStr).join(newStr);
    }
    </script>
</head>
<body>

</body>
</html>